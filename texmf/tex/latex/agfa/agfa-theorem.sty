%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Theoremumgebungen für AGFA-Master
%% agfa-theorem.sty
%% Stand: 2025/09/14
%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Kenndaten
%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\NeedsTeXFormat{LaTeX2e}											
\ProvidesPackage{agfa-theorem}
%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Initialisierungen
%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\RequirePackage{ifthen,etoolbox}
	\provideboolean{framed}	
	\provideboolean{english}	
%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Deklaration von Optionen
%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\DeclareOption{framed}{\setboolean{framed}{true}}	
\DeclareOption{english}{\setboolean{english}{true}}
\ProcessOptions\relax
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Notwendige Pakete
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\RequirePackage[ntheorem]{empheq}  
\RequirePackage[thmmarks,amsmath]{ntheorem}
\RequirePackage{mdframed}	% wegen Rahmen
\mdfsetup{%
	ntheorem		= true,
	leftmargin		= 10pt,
	everyline		= true,
	splittopskip	= 15pt,
	splitbottomskip	= 10pt
}
%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Hauptteil
%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% -- \ifthenelse{\boolean{english}\AND\boolean{framed}}
%% -- 	{% -- if english and framed
%% -- 	  \theoremstyle{plain}
%% -- 		\newmdtheoremenv{theorem}{Theorem}[section]
%% -- 		\newmdtheoremenv{proposition}[theorem]{Proposition}
%% -- 		\newmdtheoremenv{lemma}[theorem]{Lemma}
%% -- 		\newmdtheoremenv{corollary}[theorem]{Corollary}
%% -- %		\newmdtheoremenv{example}[theorem]{Example} 
%% -- %		\newmdtheoremenv{examples}[theorem]{Examples}
%% -- 		%% -------------------------------------------------	
%% -- 		\newmdtheoremenv{thm}[theorem]{Theorem}
%% -- 		\newmdtheoremenv{lem}[theorem]{Lemma}
%% -- 		\newmdtheoremenv{cor}[theorem]{Corollary}
%% -- 		\newmdtheoremenv{prop}[theorem]{Proposition}
%% -- 	 }
%% -- 	 {% -- else 
%% -- 	 \ifthenelse{\NOT\boolean{english}\AND\boolean{framed}}
%% -- 	 {% -- if not english aber framed
%% -- 	 \theoremstyle{plain}
%% -- 		\newmdtheoremenv{theorem}{Theorem}[section]
%% -- 		\newmdtheoremenv{proposition}[theorem]{Satz}
%% -- 		\newmdtheoremenv{lemma}[theorem]{Lemma}
%% -- 		\newmdtheoremenv{corollary}[theorem]{Korollar}
%% -- 		\newmdtheoremenv{conjecture}[theorem]{Vermutung}	
%% -- %		\newmdtheoremenv{example}[theorem]{Beispiel} 
%% -- %		\newmdtheoremenv{examples}[theorem]{Beispiele}
%% -- 		%% -------------------------------------------------	
%% -- 		\newmdtheoremenv{thm}[theorem]{Theorem}
%% -- 		\newmdtheoremenv{lem}[theorem]{Lemma}
%% -- 		\newmdtheoremenv{cor}[theorem]{Korollar}
%% -- 		\newmdtheoremenv{prop}[theorem]{Satz}
%% -- 		\newmdtheoremenv{conj}[theorem]{Vermutung}
%% -- 	 }
%% -- 	 {% -- else
%% -- 	 \ifthenelse{\boolean{english}\AND\NOT\boolean{framed}}
%% -- 	 {% -- if english and not framed
%% -- 	 \theoremstyle{plain}
%% -- 	 \theoremindent10pt
%% -- 		\newtheorem{theorem}{Theorem}[section]
%% -- 		\newtheorem{proposition}[theorem]{Proposition}
%% -- 		\newtheorem{lemma}[theorem]{Lemma}
%% -- 		\newtheorem{corollary}[theorem]{Corollary}
%% -- %		\newtheorem{example}[theorem]{Example} 
%% -- %		\newtheorem{examples}[theorem]{Examples}
%% -- 		%% -------------------------------------------------	
%% -- 		\newtheorem{thm}[theorem]{Theorem}
%% -- 		\newtheorem{lem}[theorem]{Lemma}
%% -- 		\newtheorem{cor}[theorem]{Corollary}
%% -- 		\newtheorem{prop}[theorem]{Proposition}
%% -- 	 }
%% -- 	 {% -- else
%% -- 	 \theoremstyle{plain}
%% -- 		\theoremindent10pt
%% -- 		\newtheorem{theorem}{Theorem}[section]
%% -- 		\newtheorem{proposition}[theorem]{Satz}
%% -- 		\newtheorem{lemma}[theorem]{Lemma}
%% -- 		\newtheorem{corollary}[theorem]{Korollar}
%% -- %		\newtheorem{example}[theorem]{Beispiel} 
%% -- %		\newtheorem{examples}[theorem]{Beispiele}
%% -- 		%% -------------------------------------------------	
%% -- 		\newtheorem{thm}[theorem]{Theorem}
%% -- 		\newtheorem{lem}[theorem]{Lemma}
%% -- 		\newtheorem{cor}[theorem]{Korollar}
%% -- 		\newtheorem{prop}[theorem]{Satz}
%% -- 	 }}}

%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Hauptteil - Vereinfachte Struktur
%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\ifthenelse{\boolean{framed}}{%
  %% ===== FRAMED VERSIONS =====
  \theoremstyle{plain}
  \ifthenelse{\boolean{english}}{%
    %% English framed
    \newmdtheoremenv{theorem}{Theorem}[section]
    \newmdtheoremenv{proposition}[theorem]{Proposition}
    \newmdtheoremenv{lemma}[theorem]{Lemma}
    \newmdtheoremenv{corollary}[theorem]{Corollary}
    %% Short versions
    \newmdtheoremenv{thm}[theorem]{Theorem}
    \newmdtheoremenv{lem}[theorem]{Lemma}
    \newmdtheoremenv{cor}[theorem]{Corollary}
    \newmdtheoremenv{prop}[theorem]{Proposition}
  }{%
    %% German framed
    \newmdtheoremenv{theorem}{Theorem}[section]
    \newmdtheoremenv{proposition}[theorem]{Satz}
    \newmdtheoremenv{lemma}[theorem]{Lemma}
    \newmdtheoremenv{corollary}[theorem]{Korollar}
    \newmdtheoremenv{conjecture}[theorem]{Vermutung}
    %% Short versions
    \newmdtheoremenv{thm}[theorem]{Theorem}
    \newmdtheoremenv{lem}[theorem]{Lemma}
    \newmdtheoremenv{cor}[theorem]{Korollar}
    \newmdtheoremenv{prop}[theorem]{Satz}
    \newmdtheoremenv{conj}[theorem]{Vermutung}
  }
}{%
  %% ===== NON-FRAMED VERSIONS =====
  \theoremstyle{plain}
  \theoremindent10pt
  \ifthenelse{\boolean{english}}{%
    %% English non-framed
    \newtheorem{theorem}{Theorem}[section]
    \newtheorem{proposition}[theorem]{Proposition}
    \newtheorem{lemma}[theorem]{Lemma}
    \newtheorem{corollary}[theorem]{Corollary}
    %% Short versions
    \newtheorem{thm}[theorem]{Theorem}
    \newtheorem{lem}[theorem]{Lemma}
    \newtheorem{cor}[theorem]{Corollary}
    \newtheorem{prop}[theorem]{Proposition}
  }{%
    %% German non-framed
    \newtheorem{theorem}{Theorem}[section]
    \newtheorem{proposition}[theorem]{Satz}
    \newtheorem{lemma}[theorem]{Lemma}
    \newtheorem{corollary}[theorem]{Korollar}
    %% Short versions
    \newtheorem{thm}[theorem]{Theorem}
    \newtheorem{lem}[theorem]{Lemma}
    \newtheorem{cor}[theorem]{Korollar}
    \newtheorem{prop}[theorem]{Satz}
  }
}
%% -------------------------------------------------	
%% Gilt für alle Variationen
%% -------------------------------------------------
\theorembodyfont{\upshape}
\theoremindent10pt
\ifthenelse{\boolean{english}}
{% -- if
	\newtheorem{example}[theorem]{Example} 
	\newtheorem{examples}[theorem]{Examples}
	\newtheorem{definition}[theorem]{Definition}
	\newtheorem{defn}[theorem]{Definition}
}
{% -- else
	\newtheorem{example}[theorem]{Beispiel} 
	\newtheorem{examples}[theorem]{Beispiele}
	\newtheorem{definition}[theorem]{Definition}
	\newtheorem{defn}[theorem]{Definition}
}
	
%% -------------------------------------------------
\theoremindent0em
\ifthenelse{\boolean{english}}
{% -- if
	\newtheorem{exercise}{Exercise}[section]
	\newtheorem{aufgabe}[exercise]{Exercise}
}
{% -- else
	\newtheorem{exercise}{Aufgabe}[section]
	\newtheorem{aufgabe}[exercise]{Aufgabe}
}
%% -------------------------------------------------	
\theorembodyfont{\small}
\theoremindent10pt
\ifthenelse{\boolean{english}}
{% -- if
	\newtheorem{remark}[theorem]{Remark}%[section] 
	\newtheorem{remarks}[theorem]{Remarks}	
	\newtheorem{anmerkung}[theorem]{Remark}
	\newtheorem{anmerkungen}[theorem]{Remarks}
	\newtheorem{rem}[theorem]{Remark}
}
{% -- else
	\newtheorem{remark}[theorem]{Anmerkung}%[section] 
	\newtheorem{remarks}[theorem]{Anmerkungen}	
	\newtheorem{anmerkung}[theorem]{Anmerkung}
	\newtheorem{anmerkungen}[theorem]{Anmerkungen}
	\newtheorem{rem}[theorem]{Anmerkung}
}
%% -------------------------------------------------
\theoremstyle{nonumberplain}  
	\theoremindent10pt
	\theoremheaderfont{\scshape}
	\theoremseparator{.}
	\theorembodyfont{\upshape}  
\ifthenelse{\boolean{english}}
{% -- if
	\newtheorem{summary}{Summary}	
	\newtheorem{zusammenfassung}{Summary}
	\newtheorem{question}{Question}
	\newtheorem{frage}{Question}
}
{% -- else 
	\newtheorem{summary}{Zusammenfassung}	
	\newtheorem{zusammenfassung}{Zusammenfassung}
	\newtheorem{question}{Frage}
	\newtheorem{frage}{Frage}
}

%% -------------------------------------------------
%% Proof environment
%% -------------------------------------------------
\theoremstyle{nonumberplain} 
\theoremsymbol{\ensuremath{\square}}
\ifthenelse{\boolean{english}}{%
  \newtheorem{proof}{Proof}
}{%
  \newtheorem{proof}{Beweis}
}
%% -------------------------------------------------
\endinput	